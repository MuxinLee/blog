<div class="c-form__wrapper">
  <div class="js-comment-form c-form__inner">
    <div class="c-form__header">
      <h3 class="js-comment-heading" data-default="Post a new comment">Post a new comment</h3>
    </div>
    <form class="c-form u-mb-l c-form--comments js-form" method="POST" action="https://api.staticman.net/v2/entry/{{ .Site.Params.staticman.username }}/{{ .Site.Params.staticman.repository }}/{{ .Site.Params.staticman.branch }}/comments" data-validate>
      <input type="hidden" name="options[redirect]" value="{{ .Permalink }}#comment-success">
      <input type="hidden" name="options[entryId]" value="{{ .UniqueID }}">
      <input type="hidden" name="options[reCaptcha][siteKey]" value="{{ .Site.Params.recaptcha.siteKey }}">
      <input type="hidden" name="options[reCaptcha][secret]" value="{{ .Site.Params.recaptcha.secret }}">
      <input type="hidden" name="fields[parent]" class="js-parent" value="">
      <div class="c-form__group u-mb-m c-form__comment">
        <label for="message">Comment<span class="c-form__required">*</span></label>
        <textarea class="js-input" id="message" name="fields[body]" rows="5" aria-labelledby="message-help" required></textarea>
        <span class="c-form__help u-small-text u-font-sans" id="message-help">{{ partial "svg/markdown.svg" }} Supports markdown</span>
      </div>
      <div class="c-form__group u-mb-m">
        <label for="name">Your name<span class="c-form__required">*</span></label>
        <input class="js-input" id="name" name="fields[name]" type="text" required>
      </div>
      <div class="c-form__group u-mb-m">
        <label for="email">Email<span class="c-form__required">*</span></label>
        <input class="js-input" id="email" name="fields[email]" type="email" pattern="^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*(\.\w{2,})+$" required>
        <p class="c-form__help u-small-text u-font-sans">Your email address is used to display <a href="https://gravatar.com" target="_blank">Gravatar</a> thumbnails and if opted in, to recieve comment replies.</p>
      </div>
      <div class="c-form__group u-mb-m">
        <label for="website">Website</label>
        <input class="js-input" id="website" name="fields[website]" type="url">
      </div>
      <div class="c-form__group u-mb-m">
        <input type="checkbox" id="subscribe" name="options[subscribe]" value="email" />
        <label for="subscribe">Send me an email when someone comments on this post.</label>
      </div>
      <div class="c-form__group u-mb-m" id="g-recaptcha-container"></div>
      <div class="c-form__alert js-form-success" id="comment-success">
        {{ $success := (printf "Thanks for joining in! All comments are created as a pull request which can be viewed on <a href='%s/pulls'>github</a>." .Site.Params.githubRepo) }}
        {{ partial "alert.html" (dict "type" "success" "message" $success) }}
      </div>
      <div class="c-form__alert js-form-error" id="comment-error">
        {{ $error := "Oh no! It looks like something went wrong while trying to submit your comment. Please check all the required fields and try again." }}
        {{ partial "alert.html" (dict "type" "error" "message" $error) }}
      </div>
      <div class="c-form__btn-group">
        <button class="c-btn js-submit" type="submit">Submit</button>
      </div>
    </form>
  </div>
</div>
{{ define "head" }}
  <script src="https://www.google.com/recaptcha/api.js?explicit=true"></script>
{{ end }}
